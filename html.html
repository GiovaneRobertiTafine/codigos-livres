<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div class="box">

    </div>
    <div id="resize-scroll">
        Resize scroll
    </div>
    <div>
        <p>
            Lorem ipsum dolor sit, amet consectetur adipisicing elit. Explicabo exercitationem iure veniam dolorum. A
            distinctio repudiandae eum facere minima ipsum natus autem repellendus aut officia, obcaecati, quasi sit
            quas architecto?
            Praesentium ab blanditiis voluptatem numquam quam voluptates id deserunt, optio corrupti tempore nisi
            dignissimos? Mollitia repellendus facere nam magnam, dolores nemo autem doloremque. Consectetur ab
            accusantium odio facilis vel quia.
            Laudantium culpa nihil earum obcaecati unde tenetur ratione officia ut dolore. Doloribus repellendus tempore
            iure quos sed quasi perferendis nihil, eius explicabo corporis cum, excepturi nesciunt at. Sed, mollitia a!
            Officia, corporis. Unde aperiam, odio quo autem quidem mollitia quam ab? Distinctio officiis doloribus
            officia, autem corporis, tempore rerum vero eius animi voluptatum maxime culpa quos eligendi ex cumque
            accusantium.

            Nostrum rem qui voluptate distinctio et nulla quas eos officia ipsam, esse ex ea vero porro ad quaerat quam
            itaque doloribus! Praesentium natus autem sequi fuga rem unde laboriosam nisi?
            Quidem non incidunt sequi corrupti error possimus mollitia soluta maxime labore, repellat dolores velit
            inventore magnam facilis iure aut perspiciatis distinctio excepturi laboriosam doloremque sed ipsum
            accusamus facere? Eum, necessitatibus.
            Dolores voluptates blanditiis, laborum iusto nesciunt expedita nisi sed maxime doloribus tenetur praesentium
            numquam nam in nostrum animi at placeat ipsum quaerat minus cum eveniet. Veniam dignissimos adipisci maxime
            ab.

            Molestias quibusdam numquam ratione, earum provident asperiores repellendus? Reprehenderit repellat iure
            eveniet neque soluta porro rem optio laborum quo. Repudiandae ratione delectus, eum sed ducimus minima
            quisquam beatae pariatur dicta!
            Consequatur odit aliquam ducimus itaque temporibus consectetur fuga, mollitia quasi suscipit veniam. Iste
            fugit consequuntur eveniet numquam, possimus odio. Sapiente non itaque dolor enim velit porro magni
            repudiandae quasi omnis.
            Eveniet impedit illum, quo vel et quasi deleniti quidem consectetur doloremque est asperiores fugit,
            voluptatum ea accusantium nulla unde neque tempora sit. Excepturi sequi laudantium harum qui sint eveniet
            repudiandae?
            Impedit ea quisquam quasi corrupti, provident sapiente repellat veniam, enim ut eius, ipsa placeat quo
            pariatur. Reprehenderit vitae, voluptates repudiandae, nobis libero rerum praesentium est quaerat labore
            suscipit fugiat eum?
            Hic dicta cupiditate quo? Laboriosam minima nulla cupiditate quam facere recusandae consequatur commodi
            praesentium quo soluta ea ut eveniet aut blanditiis odit nihil iste, inventore nam. Facilis natus in
            asperiores?
            Repudiandae commodi fugiat itaque, atque nemo quis saepe iste facere recusandae laboriosam ea eius iure
            ratione ducimus id nulla explicabo odio quidem deleniti. Numquam repudiandae aliquam unde possimus molestiae
            ullam!

            Molestiae laboriosam explicabo accusamus dolor voluptates reprehenderit, magni earum aperiam dolore, dicta
            iure vero veritatis. Odit vel, obcaecati, laborum repudiandae, labore earum distinctio aliquam est neque
            quam illo officiis ipsum.
            Tempora, voluptates! Rem a facere labore nulla, quia perspiciatis, necessitatibus minima blanditiis fugiat,
            exercitationem ad. Aspernatur suscipit inventore impedit alias repellat, praesentium pariatur mollitia esse
            labore. Voluptas officia iste non?
            Nisi necessitatibus repudiandae, similique sit voluptatum non vitae excepturi est magnam, perferendis quis
            dolores error quam illo ut cum ullam natus aliquid cumque esse at consequatur saepe voluptatem? Corporis,
            nulla?
            Aperiam adipisci molestiae rerum sed, quae, facilis dolore eligendi reprehenderit, officiis consequuntur at.
            Praesentium optio id totam modi laboriosam harum iusto sit! Sunt quos odio voluptate. Blanditiis sint eos
            eveniet?
            Animi ab repellendus ipsum unde porro quae optio ducimus harum nemo est. Rem officia mollitia eaque delectus
            provident, odio voluptatibus, impedit dolores neque fugiat similique repudiandae nulla modi ipsum quam.
            Rem ipsam eligendi fuga dolor itaque? Accusamus accusantium, recusandae sequi doloribus dolor animi ratione
            amet, enim esse, veritatis perferendis ullam ut. Soluta obcaecati laboriosam optio quidem mollitia. Nobis,
            magnam atque?
            Maxime, consequuntur autem placeat voluptas consectetur doloribus minima nulla laboriosam quos beatae atque.
            Consequuntur officia error, autem iure eum eaque nostrum repudiandae praesentium a accusamus. Culpa natus
            sed nihil quia?
            Eius, quae obcaecati! Corrupti iusto eveniet quod quas expedita laudantium omnis numquam earum, odio
            deleniti voluptates nostrum amet officia voluptate voluptas esse consequuntur alias, vitae, molestiae modi
            magni accusamus. Asperiores!
            Obcaecati similique deserunt tenetur quod ex eveniet nam aperiam suscipit nobis earum. Explicabo, sequi
            fugit porro qui, labore provident adipisci quia voluptas at debitis quos. Libero ex accusantium ullam
            perspiciatis.

            Ducimus ab deserunt nesciunt quae unde dolor corrupti voluptatibus eveniet? Molestiae error facilis quas rem
            quaerat ducimus deleniti, praesentium assumenda non asperiores tempora at delectus fuga eaque reiciendis
            repellat nulla!
            Vel aliquam asperiores, iusto sint, quo expedita nobis dolorem vero harum eum impedit corporis quod
            necessitatibus cupiditate repellat in a velit nam totam. Explicabo aliquid pariatur molestiae. Fugiat, totam
            ipsum.
            Repudiandae dolor quos ut reprehenderit soluta rem quis voluptate iste, dicta at aliquid itaque sapiente
            alias laborum. Eius aut, praesentium, eveniet assumenda repellat nemo explicabo dicta sit, voluptates quia
            totam!

            Porro facere, sunt eum ex molestias minus inventore laborum dolor? Nemo saepe quibusdam voluptatem iste
            fugiat magni animi alias possimus molestias asperiores. Nisi magnam, labore fuga saepe quaerat porro unde!
            Tempora, omnis. Tempora quidem ratione debitis facilis, laborum amet voluptatibus officiis excepturi
            molestias asperiores, necessitatibus aspernatur quod expedita quaerat accusamus praesentium, deserunt vel
            cum dignissimos laboriosam deleniti eius voluptatum temporibus.
            Magnam, ex? Fuga, perferendis optio veniam aspernatur velit, deserunt quasi saepe sint porro esse commodi
            soluta. Nihil esse, distinctio doloremque deleniti molestiae nostrum, sed sapiente possimus, sequi rerum
            voluptas reprehenderit.
            Culpa maiores beatae provident nemo quaerat eligendi. Itaque repellendus, asperiores reiciendis porro enim
            esse odit repellat nisi! Officiis nemo voluptates rem, fugiat ratione esse amet aut in repudiandae eligendi
            corrupti.
            Quaerat optio deserunt animi ducimus voluptate quis, commodi velit veniam omnis fugiat molestiae, cupiditate
            odit quibusdam ab rem voluptates facilis? Nesciunt quis adipisci similique voluptas cumque, voluptatum
            soluta molestiae vitae.

            Porro facere, sunt eum ex molestias minus inventore laborum dolor? Nemo saepe quibusdam voluptatem iste
            fugiat magni animi alias possimus molestias asperiores. Nisi magnam, labore fuga saepe quaerat porro unde!
            Tempora, omnis. Tempora quidem ratione debitis facilis, laborum amet voluptatibus officiis excepturi
            molestias asperiores, necessitatibus aspernatur quod expedita quaerat accusamus praesentium, deserunt vel
            cum dignissimos laboriosam deleniti eius voluptatum temporibus.
            Magnam, ex? Fuga, perferendis optio veniam aspernatur velit, deserunt quasi saepe sint porro esse commodi
            soluta. Nihil esse, distinctio doloremque deleniti molestiae nostrum, sed sapiente possimus, sequi rerum
            voluptas reprehenderit.
            Culpa maiores beatae provident nemo quaerat eligendi. Itaque repellendus, asperiores reiciendis porro enim
            esse odit repellat nisi! Officiis nemo voluptates rem, fugiat ratione esse amet aut in repudiandae eligendi
            corrupti.
            Quaerat optio deserunt animi ducimus voluptate quis, commodi velit veniam omnis fugiat molestiae, cupiditate
            odit quibusdam ab rem voluptates facilis? Nesciunt quis adipisci similique voluptas cumque, voluptatum
            soluta molestiae vitae.
        </p>
    </div>
    <div class="container">
        <div class="section">
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et
                dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip
                ex ea commodo consequat.</p>
        </div>
        <div class="section collapsible">
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et
                dolore magna aliqua.</p>
        </div>
        <div class="section">
            <p>Ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore
                magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
                commodo consequat. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex
                ea commodo consequat.</p>
        </div>
    </div>

    <button id="toggle-button">Toggle collapse</button>
</body>
<style>
    .box {
        width: 500px;
        height: 400px;
        position: relative;
        border: 5px solid black;
        box-sizing: border-box;
        background-color: white;
        transition: all 2s;
        border-radius: 10px;

    }

    .box::after {
        content: "";
        width: 30px;
        height: 5px;
        position: absolute;
        -webkit-transform: skew(20deg);
        -moz-transform: skew(20deg);
        -o-transform: skew(20deg);
        background: black;
        filter: invert(100%);
        top: -5px;
        left: 20%;
        transition: all 2s;
    }

    .box::before {
        content: "";
        width: 30px;
        height: 5px;
        position: absolute;
        -webkit-transform: skew(20deg);
        -moz-transform: skew(20deg);
        -o-transform: skew(20deg);
        background: black;
        filter: invert(100%);
        top: 100%;
        right: 20%;
        transition: all 2s;
    }

    .box:hover::after {
        left: 40%;
    }

    .box:hover::before {
        right: 40%;
    }

    .box:hover {
        background-color: blueviolet;
    }

    #resize-scroll {
        width: 100%;
        height: 400px;
        display: flex;
        justify-content: center;
        align-items: center;
        background-color: red;

    }



    .container {
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        height: 600px;
    }

    .section {
        overflow: hidden;

        transition: flex 0.3s ease-out;

        transition: all 0.3s ease-out;

        height: auto;
        flex: 1;
    }

    .section.collapsed {
        flex: 0;
    }

    .container {
        border: 3px solid #ffeb3b;
        margin: 0 auto;
        max-width: 300px;
        border-radius: 3px;

    }
</style>

<script>
    var scrollResize = document.getElementById("resize-scroll");
    console.log(document.getElementById("resize-scroll").offsetTop, this.pageYOffset, document.getElementById("resize-scroll").offsetHeight);
    var direcao = this.pageYOffset;
    window.addEventListener("scroll", function (event) {
        if (direcao < this.pageYOffset) {
            if (
                this.pageYOffset > scrollResize.offsetTop &&
                document.getElementById("resize-scroll").offsetHeight > 200
            ) {
                document.getElementById("resize-scroll").style.height =
                    (document.getElementById("resize-scroll").offsetHeight - 10) + "px";
                this.scrollTo({
                    top: scrollResize.offsetTop,
                    left: 0,
                    behavior: "auto",
                });
                console.warn(scrollResize.offsetTop, this.pageYOffset, document.getElementById("resize-scroll").offsetHeight);
            }
        } else {
            if (
                this.pageYOffset < scrollResize.offsetTop &&
                document.getElementById("resize-scroll").offsetHeight < 400
            ) {
                document.getElementById("resize-scroll").style.height =
                    (document.getElementById("resize-scroll").offsetHeight + 10) + "px";
                this.scrollTo({
                    top: scrollResize.offsetTop,
                    left: 0,
                    behavior: "auto",
                });
                console.warn(scrollResize.offsetTop, this.pageYOffset, document.getElementById("resize-scroll").offsetHeight);
            }
        }

        direcao = this.pageYOffset;

    });

    document.querySelector("#toggle-button").addEventListener("click", function () {
        document.querySelector(".section.collapsible").classList.toggle("collapsed");
    });
</script>

</html>